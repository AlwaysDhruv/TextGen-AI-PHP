<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TextGen-AI Chat - Enhanced</title>
     <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="background-particles" id="backgroundParticles"></div>
    
    <div class="chat-header">
        <div class="chat-title">
            <div class="ai-icon">T</div>
            TextGen-AI Chat
        </div>
        <div class="header-controls">
            <button class="control-button tooltip" data-tooltip="Import Chat" onclick="window.geminiChat?.importChat()">
                ğŸ“¤ Import
            </button>            
            <button class="control-button tooltip" data-tooltip="Export Chat" onclick="window.geminiChat?.exportChat()">
                ğŸ“¥ Export
            </button>
            <button class="control-button tooltip" data-tooltip="Clear Chat" onclick="window.geminiChat?.clearChat()">
                ğŸ—‘ï¸ Clear
            </button>
        </div>
        <div class="api-key-container">
            <input type="password" id="apiKeyInput" placeholder="Enter Your Google AI API Key">
            <div class="api-status" id="apiStatus" title="API Key Status"></div>
        </div>
    </div>

    <div class="chat-container">
        <div class="error-message" id="errorMessage"></div>
        <div class="chat-messages" id="chatMessages">
            <div class="welcome-message-container">
                <div class="welcome-title">Welcome to TextGen-AI Chat</div>
                <p style="color: var(--text-secondary); margin-bottom: 20px;">
                    Get your free API key from 
                    <a href="https://aistudio.google.com/app/apikey" target="_blank" class="api-link">Google AI Studio</a>
                </p>
                <div class="welcome-features">
                    <div class="feature-card">
                        <div class="feature-title">ğŸ’¡ Smart Conversations</div>
                        <div class="feature-description">Powered by Gemini 1.5 Flash for fast, intelligent responses</div>
                    </div>
                    <div class="feature-card">
                        <div class="feature-title">ğŸ¨ Beautiful Interface</div>
                        <div class="feature-description">Modern design with smooth animations and glassmorphism effects</div>
                    </div>
                    <div class="feature-card">
                        <div class="feature-title">âš¡ Real-time Streaming</div>
                        <div class="feature-description">Watch responses appear in real-time as they're generated</div>
                    </div>
                    <div class="feature-card">
                        <div class="feature-title">ğŸ”’ Secure & Private</div>
                        <div class="feature-description">Your API key is stored locally and never shared</div>
                    </div>
                </div>
            </div>
        </div>
        <div class="chat-input-container">
            <div class="chat-input-wrapper">
                <textarea class="chat-input" id="chatInput" placeholder="Ask me anything..." rows="1" disabled></textarea>
                <button class="send-button tooltip" id="sendButton" disabled data-tooltip="Send Message (Ctrl+Enter)">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M2 21l21-9L2 3v7l15 2-15 2v7z"/>
                    </svg>
                </button>
                <button class="stop-button tooltip" id="stopButton" data-tooltip="Stop Generation (Esc)">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M6 6h12v12H6z"/>
                    </svg>
                </button>
            </div>
        </div>
    </div>

    <div class="code-viewer-modal" id="codeViewerModal">
        <div class="code-viewer-window">
            <div class="code-viewer-header">
                <div class="code-viewer-title" id="codeViewerTitle">Code Viewer</div>
                <div class="code-viewer-actions">
                    <button class="code-action-button" id="copyCodeButton" onclick="window.geminiChat.copyCodeContent()">ğŸ“‹ Copy</button>
                    <button class="code-action-button" onclick="window.geminiChat.downloadCode()">ğŸ’¾ Download</button>
                    <button class="code-action-button" onclick="window.geminiChat.closeCodeViewer()">âœ• Close</button>
                </div>
            </div>
            <div class="code-viewer-content" id="codeViewerContent"></div>
        </div>
    </div>

    <input type="file" id="fileInput" style="display: none;" accept=".json">

    <script src="script.js"></script>
</body>
</html>